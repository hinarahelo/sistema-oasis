<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Sistema de Atendimento â€” Supremo Tribunal de Oasis</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body class="bg-paper">

<!-- ğŸ” PROTEÃ‡ÃƒO DE ACESSO -->
<script>
  const usuario = JSON.parse(localStorage.getItem("usuario"));
  if (!usuario || usuario.nivel !== "cidadao") {
    location.href = "index.html";
  }
</script>

<!-- ================= HEADER ================= -->
<header class="header small official">
  <img src="logo-oasis.png" class="logo small" />
  <div class="header-text">
    <h1>Supremo Tribunal de Oasis</h1>
    <span>Sistema Oficial de Atendimento ao CidadÃ£o</span>
  </div>
</header>

<!-- ================= NAVBAR ================= -->
<nav class="nav-bar official">
  <button onclick="irAba('solicitacoes')">ğŸ“‚ SolicitaÃ§Ãµes</button>
  <button onclick="irAba('andamento')">ğŸ•’ Em andamento</button>
  <button onclick="irAba('ticketsAdmin')">ğŸ« Administrativos</button>
  <button onclick="irAba('precos')">ğŸ’° Tabela de ServiÃ§os</button>
  <button onclick="sair()">ğŸšª Encerrar SessÃ£o</button>
</nav>

<!-- ================= CONTEÃšDO ================= -->
<main class="content official">

  <!-- ================= SOLICITAÃ‡Ã•ES ================= -->
  <section id="solicitacoes" class="aba solicitacoes-clean">

    <div class="solicitacoes-header">
      <img src="logo-oasis.png" class="logo-grande">
      <h2>SolicitaÃ§Ãµes ao Supremo Tribunal de Oasis</h2>
      <p>Selecione abaixo o tipo de serviÃ§o desejado para iniciar um atendimento oficial.</p>
    </div>

    <!-- SERVIÃ‡OS CIVIS -->
    <div class="bloco-servicos">
      <h3>ğŸ’ ServiÃ§os Civis</h3>
      <div class="grid-servicos">
        <button onclick="abrirCategoria('Casamento')">ğŸ’ Casamento</button>
        <button onclick="abrirCategoria('DivÃ³rcio')">ğŸ’” DivÃ³rcio</button>
        <button onclick="abrirCategoria('Nascimento')">ğŸ‘¼ Nascimento</button>
        <button onclick="abrirCategoria('AdoÃ§Ã£o')">ğŸ‘¶ AdoÃ§Ã£o</button>
        <button onclick="abrirCategoria('Troca de Nome')">ğŸ“œ Troca de Nome</button>
      </div>
    </div>

    <!-- SERVIÃ‡OS JURÃDICOS -->
    <div class="bloco-servicos">
      <h3>âš–ï¸ ServiÃ§os JurÃ­dicos</h3>
      <div class="grid-servicos">
        <button onclick="abrirCategoria('Porte de Arma')">ğŸ”« Porte de Arma</button>
        <button onclick="abrirCategoria('Limpeza de Ficha')">ğŸ§¹ Limpeza de Ficha</button>
        <button onclick="abrirCategoria('Jovem Aprendiz')">ğŸ§‘â€ğŸ“ Jovem Aprendiz</button>
      </div>
    </div>

    <!-- ADMINISTRATIVOS -->
    <div class="bloco-servicos">
      <h3>ğŸ›ï¸ Demandas Administrativas</h3>
      <div class="grid-servicos">
        <button onclick="abrirCategoria('DenÃºncia')">âš  DenÃºncia</button>
        <button onclick="abrirCategoria('Falar com o Juiz')">âš–ï¸ Falar com o Juiz</button>
        <button onclick="abrirCategoria('Processos')">ğŸ“ Processos</button>
        <button onclick="abrirCategoria('Suporte')">ğŸ›  Suporte</button>
      </div>
    </div>

  </section>

  <!-- ================= EM ANDAMENTO ================= -->
  <section id="andamento" class="aba">
    <h2>ğŸ•’ Tickets em Andamento</h2>
    <p class="section-desc">
      Acompanhe abaixo seus atendimentos ativos.
    </p>
    <div id="listaTickets" class="card-list official"></div>
  </section>

  <!-- ================= CHAT ================= -->
  <section id="chat" class="aba">
    <h2 id="chatTitulo">ğŸ’¬ Atendimento</h2>
    <div id="mensagens" class="chat-box official"></div>

    <div class="chat-input official">
      <input id="mensagem" placeholder="Digite sua mensagem..." />
      <input type="file" id="arquivo" />
      <button onclick="enviarMensagem()">Enviar</button>
      <button class="btn-secondary" onclick="irAba('andamento')">â¬… Voltar</button>
    </div>
  </section>

  <!-- ================= PREÃ‡OS ================= -->
  <section id="precos" class="aba">
    <h2>âš–ï¸ ServiÃ§os DisponÃ­veis ao PÃºblico â€“ Supremo Tribunal de Oasis</h2>

    <div class="price-card official">
      <h3>ğŸ›ï¸ Atendimentos JurÃ­dicos</h3>
      <ul>
        <li>Delegacia Sul â€” <b>$20.000</b></li>
        <li>Delegacia PRF â€” <b>$30.000</b></li>
      </ul>

      <h4>ReduÃ§Ã£o de Pena (em caso de condenaÃ§Ã£o)</h4>
      <ul class="sub-list">
        <li>PresenÃ§a do advogado â€” <b>-20%</b> (anulado em caso de rÃ©u primÃ¡rio)</li>
        <li>ColaboraÃ§Ã£o com as investigaÃ§Ãµes â€” <b>a ser combinado</b></li>
        <li>ConfissÃ£o do crime â€” <b>-10%</b></li>
        <li>Bom comportamento â€” <b>-10%</b></li>
        <li><b>Total possÃ­vel de reduÃ§Ã£o: atÃ© 40%</b></li>
      </ul>
    </div>

    <div class="price-card official">
      <h3>ğŸ”« Porte de Arma</h3>
      <ul>
        <li>EmissÃ£o de porte legal â€” <b>$20.000</b></li>
      </ul>
    </div>

    <div class="price-card official">
      <h3>ğŸ’ CertidÃµes Civis</h3>
      <ul>
        <li>Casamento (com discurso personalizado) â€” <b>$150.000</b></li>
        <li>DivÃ³rcio â€” <b>$200.000</b></li>
        <li>Troca de Nome â€” <b>$250.000</b></li>
        <li>AdoÃ§Ã£o â€” <b>$50.000</b></li>
        <li>Nascimento â€” <b>$50.000</b></li>
        <li>Jovem Aprendiz â€” <b>$30.000</b></li>
      </ul>
    </div>

    <div class="price-card official">
      <h3>ğŸ¢ AlvarÃ¡ de Funcionamento</h3>
      <ul>
        <li>Abertura â€” <b>$150.000</b></li>
        <li>RenovaÃ§Ã£o â€” <b>$60.000</b></li>
      </ul>
    </div>

    <div class="price-card official">
      <h3>ğŸ§¾ AÃ§Ãµes JurÃ­dicas</h3>
      <ul>
        <li>AÃ§Ã£o Judicial (entrada de processo) â€” <b>$50.000</b></li>
        <li>Limpeza de Ficha Criminal (1 a 3 ocorrÃªncias) â€” <b>$50.000</b></li>
        <li>A partir da 4Âª ocorrÃªncia â€” <b>+ $10.000</b> por infraÃ§Ã£o</li>
      </ul>
    </div>
  </section>

</main>

<script type="module" src="script.js"></script>

<script>
  function sair() {
    localStorage.clear();
    location.href = "index.html";
  }

  function irAba(id) {
    location.hash = id;
    mostrarAba(id);
  }

  const hash = location.hash.replace("#", "");
  if (hash) mostrarAba(hash);
  else mostrarAba("solicitacoes");
</script>

</body>
</html>
