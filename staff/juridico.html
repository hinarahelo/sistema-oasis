<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Painel JurÃ­dico â€” Supremo Tribunal de Oasis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../style.css">
</head>

<body class="bg-paper official">

<!-- ðŸ” PROTEÃ‡ÃƒO DE ACESSO -->
<script>
  const usuario = JSON.parse(localStorage.getItem("usuario"));
  if (!usuario || usuario.nivel !== "juridico") {
    location.href = "../index.html";
  }
</script>

<!-- ================= HEADER ================= -->
<header class="header small official">
  <img src="../logo-oasis.png" class="logo small">
  <div class="header-text">
    <h1>Supremo Tribunal de Oasis</h1>
    <span>Painel JurÃ­dico Institucional</span>
  </div>
</header>

<!-- ================= NAVBAR ================= -->
<nav class="nav-bar official">
  <button type="button" onclick="mostrarPainel()">ðŸ“‚ Tickets</button>
  <button type="button" onclick="sair()">ðŸšª Encerrar SessÃ£o</button>
</nav>

<!-- ================= CONTEÃšDO ================= -->
<main class="content official">

  <!-- ================= LISTA ================= -->
  <section id="painel" class="aba active">
    <h2>ðŸ“‚ Tickets Abertos</h2>

    <!-- FILTRO -->
    <select id="filtroCategoria" onchange="filtrarCategoria()">
      <option value="">Todas as categorias</option>
    </select>

    <div id="listaTickets" class="card-list official"></div>
  </section>

  <!-- ================= CHAT ================= -->
  <section id="chat" class="aba">
    <h2 id="chatTitulo">ðŸ’¬ Atendimento JurÃ­dico</h2>

    <div id="mensagens" class="chat-box official"></div>

    <div class="chat-input official">
      <input id="mensagem" placeholder="Digite sua resposta jurÃ­dica...">
      <input type="file" id="arquivo">

      <button id="btnEnviar" onclick="enviarMensagem()">Enviar</button>
      <button class="btn-secondary" onclick="encerrarTicket()">ðŸ”’ Encerrar</button>
      <button class="btn-secondary" onclick="voltarPainel()">â¬… Voltar</button>
    </div>
  </section>

</main>

<script type="module" src="juridico.js"></script>

<script>
  function sair() {
    localStorage.clear();
    location.href = "../index.html";
  }

  function mostrarPainel() {
    document.getElementById("painel").classList.add("active");
    document.getElementById("chat").classList.remove("active");
  }

  function voltarPainel() {
    mostrarPainel();
  }
</script>

</body>
</html>
